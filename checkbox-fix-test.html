<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹¾é¸æ¡†ä¿®å¾©æ¸¬è©¦</title>
    
    <!-- æ ¸å¿ƒæ¨£å¼ -->
    <link rel="stylesheet" href="styles-core.css">
    
    <!-- ä¸»é¡Œæ¨£å¼ -->
    <link rel="stylesheet" href="themes.css">
    
    <!-- å®Œæ•´æ¨£å¼ -->
    <link rel="stylesheet" href="styles.css">
    
    <style>
        body {
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background: var(--bg-white, #fff);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid var(--border-light, #e5e7eb);
            border-radius: 8px;
        }
        
        .test-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary, #333);
        }
        
        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            background: var(--bg-card, rgba(255, 255, 255, 0.9));
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow-md);
        }
        
        .theme-btn {
            display: block;
            width: 100%;
            padding: 8px 12px;
            margin: 4px 0;
            border: 1px solid var(--border-primary, #ddd);
            border-radius: 4px;
            background: var(--bg-white, #fff);
            color: var(--text-primary, #333);
            cursor: pointer;
            transition: var(--transition-normal, 0.3s ease);
        }
        
        .theme-btn:hover {
            background: var(--color-primary, #007bff);
            color: var(--text-white, #fff);
        }
        
        .theme-btn.active {
            background: var(--color-primary, #007bff);
            color: var(--text-white, #fff);
        }
        
        .status-indicator {
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .checkbox-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        @media (max-width: 480px) {
            .checkbox-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body data-theme="money">
    <!-- ä¸»é¡Œåˆ‡æ›å™¨ -->
    <div class="theme-switcher">
        <h3>æ¸¬è©¦ä¸»é¡Œ</h3>
        <button class="theme-btn active" onclick="setTheme('money')">Money</button>
        <button class="theme-btn" onclick="setTheme('totoro')">Totoro</button>
        <button class="theme-btn" onclick="setTheme('noface')">No Face</button>
        <button class="theme-btn" onclick="setTheme('spacegold')">Space Gold</button>
        <button class="theme-btn" onclick="setTheme('festive')">Festive</button>
        <button class="theme-btn" onclick="setTheme('fruit')">Fruit</button>
        <button class="theme-btn" onclick="setTheme('emeraldPrince')">Emerald Prince</button>
    </div>

    <div class="test-container">
        <h1>ğŸ”§ å‹¾é¸æ¡†ä¿®å¾©æ¸¬è©¦</h1>
        <p>é€™å€‹é é¢ç”¨æ–¼æ¸¬è©¦å‹¾é¸æ¡†åœ¨æ‰€æœ‰ä¸»é¡Œä¸‹çš„é¡¯ç¤ºæ•ˆæœã€‚</p>

        <!-- åŸå§‹å•é¡Œæ¸¬è©¦ -->
        <div class="test-section">
            <h2 class="test-title">ğŸ“‹ åŸå§‹å•é¡Œå‹¾é¸æ¡†</h2>
            <p>æ¸¬è©¦ã€Œç³»çµ±è‡ªå‹•è¨ˆç®—ã€å’Œã€Œå®šæœŸå®šé¡æŠ•è³‡ã€å‹¾é¸æ¡†ï¼š</p>
            
            <div class="checkbox-grid">
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" id="calcAutoFeeCheckbox">
                    <span class="form-checkbox-text">ç³»çµ±è‡ªå‹•è¨ˆç®—ï¼ˆ0.1425%ï¼Œæœ€ä½20å…ƒï¼‰</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" id="calcIsDCAInput">
                    <span class="form-checkbox-text">å®šæœŸå®šé¡æŠ•è³‡</span>
                </label>
            </div>
            
            <div id="original-status" class="status-indicator status-success">
                âœ… åŸå§‹å‹¾é¸æ¡†å·²ä¿®å¾©
            </div>
        </div>

        <!-- åŸºç¤å‹¾é¸æ¡†æ¸¬è©¦ -->
        <div class="test-section">
            <h2 class="test-title">ğŸ§ª åŸºç¤å‹¾é¸æ¡†æ¸¬è©¦</h2>
            <p>æ¸¬è©¦å„ç¨®åŸºç¤å‹¾é¸æ¡†ç‹€æ…‹ï¼š</p>
            
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="form-checkbox-text">é é¸ä¸­ç‹€æ…‹</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox">
                    <span class="form-checkbox-text">æœªé¸ä¸­ç‹€æ…‹</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" disabled>
                    <span class="form-checkbox-text">ç¦ç”¨ç‹€æ…‹</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" disabled checked>
                    <span class="form-checkbox-text">ç¦ç”¨ä¸”é¸ä¸­</span>
                </label>
            </div>
            
            <div id="basic-status" class="status-indicator status-success">
                âœ… åŸºç¤å‹¾é¸æ¡†æ­£å¸¸
            </div>
        </div>

        <!-- äº¤äº’æ¸¬è©¦ -->
        <div class="test-section">
            <h2 class="test-title">ğŸ¯ äº¤äº’æ¸¬è©¦</h2>
            <p>æ¸¬è©¦å‹¾é¸æ¡†çš„äº¤äº’æ•ˆæœï¼š</p>
            
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" id="interactive1">
                    <span class="form-checkbox-text">é»æ“Šæ¸¬è©¦ 1</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" id="interactive2">
                    <span class="form-checkbox-text">é»æ“Šæ¸¬è©¦ 2</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" id="interactive3">
                    <span class="form-checkbox-text">é»æ“Šæ¸¬è©¦ 3</span>
                </label>
            </div>
            
            <div id="interactive-status" class="status-indicator status-success">
                âœ… äº¤äº’æ¸¬è©¦æ­£å¸¸
            </div>
        </div>

        <!-- æ‰¹é‡æ¸¬è©¦ -->
        <div class="test-section">
            <h2 class="test-title">ğŸ“Š æ‰¹é‡æ¸¬è©¦</h2>
            <p>æ¸¬è©¦å¤šå€‹å‹¾é¸æ¡†çš„æ‰¹é‡æ“ä½œï¼š</p>
            
            <div style="margin-bottom: 15px;">
                <button onclick="selectAll()">å…¨é¸</button>
                <button onclick="deselectAll()">å…¨ä¸é¸</button>
                <button onclick="toggleAll()">åé¸</button>
                <button onclick="checkStatus()">æª¢æŸ¥ç‹€æ…‹</button>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="1">
                    <span class="form-checkbox-text">é¸é … 1</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="2">
                    <span class="form-checkbox-text">é¸é … 2</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="3">
                    <span class="form-checkbox-text">é¸é … 3</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="4">
                    <span class="form-checkbox-text">é¸é … 4</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="5">
                    <span class="form-checkbox-text">é¸é … 5</span>
                </label>
                
                <label class="form-checkbox-label">
                    <input type="checkbox" class="form-checkbox" name="batch" value="6">
                    <span class="form-checkbox-text">é¸é … 6</span>
                </label>
            </div>
            
            <div id="batch-status" class="status-indicator status-success">
                âœ… æ‰¹é‡æ¸¬è©¦æ­£å¸¸
            </div>
        </div>
    </div>

    <script>
        // ä¸»é¡Œåˆ‡æ›åŠŸèƒ½
        function setTheme(themeName) {
            // ç§»é™¤æ‰€æœ‰ä¸»é¡ŒæŒ‰éˆ•çš„ active ç‹€æ…‹
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // è¨­ç½®ç•¶å‰ä¸»é¡ŒæŒ‰éˆ•ç‚º active
            event.target.classList.add('active');
            
            // è¨­ç½® body çš„ data-theme å±¬æ€§
            document.body.setAttribute('data-theme', themeName);
            
            // ä¿å­˜ä¸»é¡Œé¸æ“‡åˆ° localStorage
            localStorage.setItem('selectedTheme', themeName);
            
            // é‡æ–°æª¢æŸ¥å‹¾é¸æ¡†ç‹€æ…‹
            setTimeout(checkAllCheckboxes, 100);
        }
        
        // æª¢æŸ¥æ‰€æœ‰å‹¾é¸æ¡†ç‹€æ…‹
        function checkAllCheckboxes() {
            const checkboxes = document.querySelectorAll('.form-checkbox');
            let hasIssues = false;
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    // æª¢æŸ¥å‹¾é¸æ¨™è¨˜æ˜¯å¦å¯è¦‹
                    const computedStyle = window.getComputedStyle(checkbox, '::after');
                    const content = computedStyle.getPropertyValue('content');
                    const opacity = computedStyle.getPropertyValue('opacity');
                    const visibility = computedStyle.getPropertyValue('visibility');
                    
                    if (content === 'none' || opacity === '0' || visibility === 'hidden') {
                        hasIssues = true;
                    }
                }
            });
            
            // æ›´æ–°ç‹€æ…‹æŒ‡ç¤ºå™¨
            updateStatusIndicators(hasIssues);
        }
        
        // æ›´æ–°ç‹€æ…‹æŒ‡ç¤ºå™¨
        function updateStatusIndicators(hasIssues) {
            const indicators = document.querySelectorAll('.status-indicator');
            indicators.forEach(indicator => {
                if (hasIssues) {
                    indicator.className = 'status-indicator status-error';
                    indicator.innerHTML = 'âŒ ç™¼ç¾å‹¾é¸æ¡†å•é¡Œ';
                } else {
                    indicator.className = 'status-indicator status-success';
                    indicator.innerHTML = 'âœ… å‹¾é¸æ¡†æ­£å¸¸';
                }
            });
        }
        
        // æ‰¹é‡æ“ä½œåŠŸèƒ½
        function selectAll() {
            document.querySelectorAll('input[name="batch"]').forEach(cb => cb.checked = true);
            setTimeout(checkAllCheckboxes, 100);
        }
        
        function deselectAll() {
            document.querySelectorAll('input[name="batch"]').forEach(cb => cb.checked = false);
            setTimeout(checkAllCheckboxes, 100);
        }
        
        function toggleAll() {
            document.querySelectorAll('input[name="batch"]').forEach(cb => cb.checked = !cb.checked);
            setTimeout(checkAllCheckboxes, 100);
        }
        
        function checkStatus() {
            const checked = document.querySelectorAll('input[name="batch"]:checked').length;
            const total = document.querySelectorAll('input[name="batch"]').length;
            alert(`å·²é¸ä¸­ ${checked}/${total} å€‹é¸é …`);
        }
        
        // ç›£è½å‹¾é¸æ¡†è®ŠåŒ–
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('form-checkbox')) {
                setTimeout(checkAllCheckboxes, 50);
            }
        });
        
        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è¼‰å…¥ä¿å­˜çš„ä¸»é¡Œ
            const savedTheme = localStorage.getItem('selectedTheme');
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
                
                // æ›´æ–°ä¸»é¡ŒæŒ‰éˆ•ç‹€æ…‹
                document.querySelectorAll('.theme-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent.toLowerCase().includes(savedTheme.toLowerCase()) ||
                        btn.onclick.toString().includes(savedTheme)) {
                        btn.classList.add('active');
                    }
                });
            }
            
            // åˆå§‹æª¢æŸ¥
            setTimeout(checkAllCheckboxes, 500);
        });
    </script>
</body>
</html>
